var L=Object.defineProperty,x=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var y=(t,e,s)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,m=(t,e)=>{for(var s in e||(e={}))N.call(e,s)&&y(t,s,e[s]);if(b)for(var s of b(e))k.call(e,s)&&y(t,s,e[s]);return t},v=(t,e)=>x(t,M(e));import{j as C,a as F,l as h,b as f,S as T}from"./vendor.d234a703.js";const D=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}};D();function p(t){var e={};if(t.nodeType==1){if(t.attributes.length>0){e["@attributes"]={};for(var s=0;s<t.attributes.length;s++){var o=t.attributes.item(s);e["@attributes"][o.nodeName]=o.nodeValue}}}else t.nodeType==3&&(e=t.nodeValue);var n=[].slice.call(t.childNodes).filter(function(c){return c.nodeType===3});if(t.hasChildNodes()&&t.childNodes.length===n.length)e=[].slice.call(t.childNodes).reduce(function(c,w){return c+w.nodeValue},"");else if(t.hasChildNodes())for(var r=0;r<t.childNodes.length;r++){var a=t.childNodes.item(r),l=a.nodeName;if(typeof e[l]=="undefined")e[l]=p(a);else{if(typeof e[l].push=="undefined"){var u=e[l];e[l]=[],e[l].push(u)}e[l].push(p(a))}}return e}const i=C,d=F,I=t=>{const[e,s]=h(""),o=({currentTarget:r})=>s(r.value),n=r=>{r.preventDefault(),t.getXML(e)};return d("form",{children:[i("textarea",{placeholder:"Paste XML content here!",class:"textarea h-40 w-full textarea-bordered",value:e,onChange:o}),i("div",{class:"d-grid gap-2",children:i("button",{class:"btn btn-block btn-primary text-white mt-3",onClick:n,children:"Convert"})})]})},O=t=>i("div",{class:"card w-1/2 shadow-lg bg-white mx-auto mb-6",children:i("div",{class:"card-body",children:t.children})}),g={"@attributes":{Date:"",Time:""},Text:"",From:{User:{"@attributes":{FriendlyName:""}}}},j=t=>{const e=t.item||g,s=n=>n?"badge-primary text-white block":"inline-block bg-gray-500 border-gray-500";return d("li",{class:(n=>n?"my-2":"text-right my-2")(e.left),children:[i("span",{class:"text-sm font-bold block",children:e.From.User["@attributes"].FriendlyName}),i("span",{class:"badge my-1 whitespace-normal break-words rounded h-auto "+s(e.left),children:e.Text}),d("span",{class:"text-xs italic block",children:[e["@attributes"].Date," ",e["@attributes"].Time]})]})},P=t=>{const e=t.data||[g,g],s="From.User.@attributes.FriendlyName";let o=!0;const n=e.filter(r=>f(r,s)).map((r,a,l)=>{const u=a!==0?a-1:0;return f(r,s)!==f(l[u],s)&&(o=!o),v(m({},r),{left:o})});return i("ul",{class:"list-unstyled",children:n.map((r,a)=>i(j,{item:r},a))})},S=()=>{const[t,e]=h(!0),[s,o]=h({Log:{Message:[]}}),n=(r='{"foo": "bar"}')=>{const a=new DOMParser().parseFromString(r,"text/xml"),l=p(a);l.Log&&(o(l),e(!1))};return i("main",{class:"container py-12",children:d(O,{children:[i("h2",{class:"card-title text-3xl",children:"MSN Messenger viewer"}),t?i(I,{getXML:n}):i(P,{data:s.Log.Message})]})})};T(i(S,{}),document.getElementById("app"));
